<script>
  var api = sc2.Initialize({
    app: 'steemian-app',
    callbackURL: 'https://steemian.app/dashboard/',
    //accessToken: 'access_token',
    scope: ['vote', 'comment']
  });
  let accessToken;
  let username;
  if (window.location.search) {
    let urlParameters = window.location.search.substr(1).split("&")
    accessToken = urlParameters[0].substr(13);
    username = urlParameters[2].substr(9);
    console.log(urlParameters);
    console.log(accessToken);
    console.log(username);
    //console.log(window.location.href);
    console.log(window.location.search.substr(1));
  }
  if (accessToken) { // if logged in
    console.log("found access token")
    api.setAccessToken([accessToken]);
    api.me(function (err, res) {
      console.log(err, res)
    });
    console.log('the api has been updated with the access token');
  }
  else {
    window.location.href = api.getLoginURL();
  }

  function openSpellChecker() {
    document.getElementById("spellChecker").style.display = "inline";
    document.getElementById("freeIllustrations").style.display = "none";
    document.getElementById("about").style.display = "none";
  }

  function openFreeIllustrations() {
    document.getElementById("spellChecker").style.display = "none";
    document.getElementById("freeIllustrations").style.display = "inline";
    document.getElementById("about").style.display = "none";
  }
  function openAbout() {
    document.getElementById("spellChecker").style.display = "none";
    document.getElementById("freeIllustrations").style.display = "none";
    document.getElementById("about").style.display = "inline";
  }
  function elasticSearch(searchInput) {
    document.getElementById("searchResults").innerHTML = searchInput;
  }
</script>
  
<body>
  <div class="btn-group" style="width:100%">
    <button style="width:33%" onclick="openSpellChecker()">Spell checker</button>
    <button style="width:33%" onclick="openFreeIllustrations()">Free illustrations</button>
    <button style="width:33%" onclick="openAbout()">About</button>
  </div>

  <div id=spellChecker style="display:inline;text-align:center">
    <h1>The spellchecker goes here</h1>
  </div>
  
  <div id=freeIllustrations style="display:none;text-align:center">
    <form>
      Search:<br>
      <input autocomplete="off" type="text" name="searchInput" oninput="elasticSearch(value)"><br>
    </form>
    <p id="searchResults">searchResults</p>
    <h1>Images go here</h1>
  </div>
  
  <div id=about style="display:none;text-align:center">
    <h1>About information goes here</h1>
  </div>
</body>